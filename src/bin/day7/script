#!/usr/bin/env bash
sed -E s"/(^[0-9a-z]+)\s(->)\s([a-z0-9]+)/\3 = \1/g" "$1" | \
  sed -E s"/(^[a-z0-9]+)\s(AND)\s([a-z0-9]+)\s->\s([a-z0-9]+)/\4 = \1 \& \3/g" | \
  sed -E s"/(^[a-z0-9]+)\s(OR)\s([a-z0-9]+)\s->\s([a-z0-9]+)/\4 = \1 | \3/g" | \
  sed -E s"/(^[a-z0-9]+)\s(LSHIFT)\s([a-z0-9]+)\s->\s([a-z0-9]+)/\4 = \1 << \3/g" | \
  sed -E s"/(^[a-z0-9]+)\s(RSHIFT)\s([a-z0-9]+)\s->\s([a-z0-9]+)/\4 = \1 >> \3/g" | \
  sed -E s"/(^NOT)\s([a-z0-9]+)\s->\s([a-z0-9]+)/\3 = \~\2 + 65535 + 1/g"
